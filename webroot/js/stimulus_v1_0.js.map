{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_global.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_wks.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_export.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_core.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_is-object.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_ctx.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_an-object.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-dp.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_descriptors.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_hide.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_redefine.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_has.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/event_listener.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/dispatcher.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/action_descriptor.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/action.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/binding.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/mutation-observers/dist/src/element_observer.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/mutation-observers/dist/src/attribute_observer.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/multimap/dist/src/set_operations.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/multimap/dist/src/multimap.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/multimap/dist/src/indexed_multimap.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/mutation-observers/dist/src/token_list_observer.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/mutation-observers/dist/src/value_list_observer.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/binding_observer.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/context.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/definition.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/module.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/data_map.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/selectors.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/target_set.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/scope.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/scope_observer.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/router.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/schema.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/application.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/target_properties.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/core/dist/src/controller.js","webpack:///../cms1/node_modules/stimulus/index.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_fails.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_a-function.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_cof.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iterators.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_for-of.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_property-desc.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_uid.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_to-object.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_to-length.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.string.iterator.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_to-iobject.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_set-to-string-tag.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_classof.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_dom-create.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_shared.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_library.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iobject.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_defined.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_to-integer.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_add-to-unscopables.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iter-define.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-keys.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_shared-key.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iter-detect.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.object.to-string.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/web.dom.iterable.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_redefine-all.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_an-instance.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_validate-collection.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_new-promise-capability.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_ie8-dom-define.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_to-primitive.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_array-methods.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-create.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_enum-bug-keys.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_html.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iter-call.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_is-array-iter.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/core.get-iterator-method.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iter-step.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_collection-strong.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_set-species.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_meta.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_collection.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-pie.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_collection-to-json.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_set-collection-of.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_set-collection-from.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_species-constructor.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_task.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_perform.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_promise-resolve.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/array/find.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.array.find.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_function-to-string.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_array-species-create.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_array-species-constructor.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_is-array.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/array/find-index.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.array.find-index.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/array/from.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_string-at.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_iter-create.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-dps.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-keys-internal.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_array-includes.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_to-absolute-index.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-gpo.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.array.from.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_create-property.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/map.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.array.iterator.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.map.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_inherit-if-required.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_set-proto.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-gopd.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.map.to-json.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_array-from-iterable.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.map.of.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.map.from.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/object/assign.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.object.assign.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-assign.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_object-gops.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/promise.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.promise.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_invoke.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_microtask.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/_user-agent.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.promise.finally.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.promise.try.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/fn/set.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es6.set.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.set.to-json.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.set.of.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/core-js/modules/es7.set.from.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/element-closest/element-closest.js","webpack:///../cms1/node_modules/@stimulus/polyfills/node_modules/mutation-observer-inner-html-shim/dist/index.js","webpack:///./stimulus/controllers sync \\.js$","webpack:///./stimulus/controllers/example1/prize_controller.js","webpack:///./stimulus/index.js","webpack:///../cms1/node_modules/stimulus/node_modules/@stimulus/webpack-helpers/dist/index.js","webpack:///../cms1/node_modules/whatwg-fetch/fetch.js","webpack:///./stimulus/controllers/common/loader_controller.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","global","window","Math","self","Function","__g","store","uid","USE_SYMBOL","core","hide","redefine","ctx","$export","type","source","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","expProto","undefined","U","W","R","version","__e","it","aFunction","fn","that","length","a","b","apply","arguments","isObject","TypeError","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","e","createDesc","has","SRC","$toString","TPL","split","inspectSource","val","safe","isFunction","join","String","this","EventListener","eventTarget","eventName","unorderedBindings","Set","connect","addEventListener","disconnect","removeEventListener","bindingConnected","binding","add","bindingDisconnected","delete","handleEvent","event","extendedEvent","stopImmediatePropagation_1","stopImmediatePropagation","assign","immediatePropagationStopped","extendEvent","_i","_a","bindings","Array","from","sort","left","right","leftIndex","index","rightIndex","configurable","Dispatcher","application","eventListenerMaps","Map","started","start","eventListeners","forEach","eventListener","stop","values","reduce","listeners","map","concat","fetchEventListenerForBinding","handleError","error","message","detail","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","createEventListener","set","descriptorPattern","Action","element","descriptor","tagName","toLowerCase","defaultEventNames","getDefaultEventNameForElement","identifier","methodName","forToken","token","descriptorString","content","matches","trim","match","eventTargetName","document","toString","eventNameSuffix","getAttribute","Error","Binding","context","action","willBeInvokedByEvent","invokeWithEvent","method","controller","Element","contains","scope","containsElement","ElementObserver","delegate","_this","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","attributes","childList","subtree","refresh","takeRecords","matchElementsInTree","removeElement","_b","_c","addElement","mutations_1","mutation","processMutation","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","hasAttribute","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","fetch","del","size","prune","extendStatics","Multimap","valuesByKey","hasKey","hasValue","some","getValuesForKey","getKeysForValue","filter","__extends","setPrototypeOf","__proto__","__","constructor","_super","IndexedMultimap","keysByValue","keys","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","refreshTokensForElement","unmatchedTokens","matchedTokens","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","max","_","findIndex","tokensAreEqual","slice","tokenString","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","connectAction","disconnectAction","clear","Context","controllerConstructor","bindingObserver","dispatcher","initialize","parentElement","blessControllerConstructor","extend","bless","extendWithReflect","Controller","_newTarget","Reflect","construct","Module","definition","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","DataMap","getFormattedKey","setAttribute","removeAttribute","replace","char","attributeValueContainsToken","TargetSet","targetName","find","targetNames","getSelectorForTargetNames","findElement","findAll","findAllElements","getSelectorForTargetName","targetDescriptor","targetAttribute","Scope","targets","data","head","tail","filterElements","closest","controllerSelector","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","contexts","loadDefinition","unloadIdentifier","connectModule","disconnectModule","getContextForElementAndIdentifier","defaultSchema","__awaiter","thisArg","_arguments","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","y","g","label","sent","trys","ops","verb","iterator","v","op","pop","push","Application","documentElement","router","readyState","register","load","rest","definitions","isArray","unload","identifiers","getControllerForElementAndIdentifier","console","defineTargetProperties","ancestors","getPrototypeOf","getAncestorsForConstructor","getOwnTargetNamesForConstructor","getTargetNamesForConstructor","properties","charAt","toUpperCase","capitalize","exec","isArrayIter","toLength","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","iterFn","bitmap","writable","id","px","random","defined","toInteger","min","$at","iterated","_t","point","IObject","def","TAG","tag","stat","cof","ARG","T","tryGet","callee","is","createElement","copyright","propertyIsEnumerable","ceil","floor","isNaN","UNSCOPABLES","ArrayProto","LIBRARY","Iterators","$iterCreate","setToStringTag","BUGGY","returnThis","Base","NAME","Constructor","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","$keys","enumBugKeys","shared","SAFE_CLOSING","riter","skipClosing","arr","iter","classof","test","$iterators","getKeys","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","src","forbiddenField","TYPE","PromiseCapability","C","promise","$$resolve","$$reject","valueOf","toObject","asc","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","res","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","style","display","appendChild","contentWindow","open","write","lt","close","Properties","ret","getIteratorMethod","redefineAll","anInstance","forOf","$iterDefine","setSpecies","DESCRIPTORS","fastKey","validate","SIZE","getEntry","entry","_f","k","getConstructor","wrapper","ADDER","_l","prev","setStrong","_k","SPECIES","KEY","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","getWeak","onFreeze","fails","$iterDetect","inheritIfRequired","common","IS_WEAK","fixMethod","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","COLLECTION","of","A","mapping","cb","mapFn","nextItem","D","defer","channel","port","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","args","nextTick","now","port2","port1","onmessage","postMessage","importScripts","removeChild","setTimeout","newPromiseCapability","x","promiseCapability","$find","forced","speciesConstructor","original","arg","TO_STRING","pos","charCodeAt","defineProperties","toIObject","arrayIndexOf","names","toAbsoluteIndex","IS_INCLUDES","el","fromIndex","ObjectProto","createProperty","arrayLike","aLen","mapfn","$defineProperty","addToUnscopables","Arguments","strong","check","buggy","pIE","gOPD","getOwnPropertyDescriptor","toJSON","gOPS","$assign","K","getSymbols","isEnum","j","getOwnPropertySymbols","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","task","microtask","newPromiseCapabilityModule","perform","userAgent","promiseResolve","versions","v8","$Promise","isNode","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","indexOf","isThenable","notify","isReject","_n","chain","_v","ok","_s","reaction","exited","handler","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","reason","onrejectionhandled","$reject","_d","_w","$resolve","executor","err","onFulfilled","onRejected","capability","all","remaining","$index","alreadyCalled","race","un","macrotask","Observer","WebKitMutationObserver","last","flush","parent","navigator","standalone","toggle","createTextNode","characterData","onFinally","ElementProto","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","ownerDocument","Boolean","parentNode","callback","innerHTML","observer","isBuggy","childNodes","mutationObserverHasBuggyRemovedNodes","HTMLElement","_set","lastChild","patchInnerHTMLToRemoveChildNodes","webpackContext","req","webpackContextResolve","code","currentTarget","hasOut1Target","out1Target","textContent","hasOut2Target","out2Target","hasOut3Target","out3Target","require","logicalName","identifierForContextKey","default","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext","support","searchParams","blob","Blob","formData","arrayBuffer","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","normalizeName","normalizeValue","iteratorFor","items","shift","Headers","headers","append","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","text","readAsText","chars","fromCharCode","readArrayBufferAsText","decode","json","JSON","parse","oldValue","Request","input","options","upcased","url","credentials","signal","referrer","form","bytes","decodeURIComponent","Response","bodyInit","status","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","stack","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","withCredentials","responseType","setRequestHeader","onreadystatechange","send","polyfill","control","option","encodeURIComponent","checked","getElementsByName","varPostfix","formDataArray","updateMethod","insertAdjacentHTML","formState","getFormState","loadContent","handleErrors","alert","eventType","elem","count","hasOutput1Target","updateContent","output1Target","hasOutput2Target","output2Target","hasOutput3Target","output3Target","hasOutput4Target","output4Target","hasOutput5Target","output5Target","preventDefault","disabled","parseInt"],"mappings":"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","file":"stimulus_v1_0.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 113);\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var core = module.exports = { version: '2.6.5' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var EventListener = /** @class */ (function () {\n    function EventListener(eventTarget, eventName) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.unorderedBindings = new Set;\n    }\n    EventListener.prototype.connect = function () {\n        this.eventTarget.addEventListener(this.eventName, this, false);\n    };\n    EventListener.prototype.disconnect = function () {\n        this.eventTarget.removeEventListener(this.eventName, this, false);\n    };\n    // Binding observer delegate\n    /** @hidden */\n    EventListener.prototype.bindingConnected = function (binding) {\n        this.unorderedBindings.add(binding);\n    };\n    /** @hidden */\n    EventListener.prototype.bindingDisconnected = function (binding) {\n        this.unorderedBindings.delete(binding);\n    };\n    EventListener.prototype.handleEvent = function (event) {\n        var extendedEvent = extendEvent(event);\n        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {\n            var binding = _a[_i];\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    };\n    Object.defineProperty(EventListener.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.unorderedBindings).sort(function (left, right) {\n                var leftIndex = left.index, rightIndex = right.index;\n                return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventListener;\n}());\nexport { EventListener };\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        var stopImmediatePropagation_1 = event.stopImmediatePropagation;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation: function () {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation_1.call(this);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRfbGlzdGVuZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXZlbnRfbGlzdGVuZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFLRSx1QkFBWSxXQUF3QixFQUFFLFNBQWlCO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFBO1FBQzFCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsK0JBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDaEUsQ0FBQztJQUVELGtDQUFVLEdBQVY7UUFDRSxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25FLENBQUM7SUFFRCw0QkFBNEI7SUFFNUIsY0FBYztJQUNkLHdDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JDLENBQUM7SUFFRCxjQUFjO0lBQ2QsMkNBQW1CLEdBQW5CLFVBQW9CLE9BQWdCO1FBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDeEMsQ0FBQztJQUVELG1DQUFXLEdBQVgsVUFBWSxLQUFZO1FBQ3RCLElBQU0sYUFBYSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN4QyxLQUFzQixVQUFhLEVBQWIsS0FBQSxJQUFJLENBQUMsUUFBUSxFQUFiLGNBQWEsRUFBYixJQUFhLEVBQUU7WUFBaEMsSUFBTSxPQUFPLFNBQUE7WUFDaEIsSUFBSSxhQUFhLENBQUMsMkJBQTJCLEVBQUU7Z0JBQzdDLE1BQUs7YUFDTjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFBO2FBQ25DO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsc0JBQUksbUNBQVE7YUFBWjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSztnQkFDekQsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQTtnQkFDdEQsT0FBTyxTQUFTLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDckUsQ0FBQyxDQUFDLENBQUE7UUFDSixDQUFDOzs7T0FBQTtJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQWhERCxJQWdEQzs7QUFFRCxxQkFBcUIsS0FBWTtJQUMvQixJQUFJLDZCQUE2QixJQUFJLEtBQUssRUFBRTtRQUMxQyxPQUFPLEtBQUssQ0FBQTtLQUNiO1NBQU07UUFDRyxJQUFBLDJEQUF3QixDQUFVO1FBQzFDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUU7WUFDMUIsMkJBQTJCLEVBQUUsS0FBSztZQUNsQyx3QkFBd0I7Z0JBQ3RCLElBQUksQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUE7Z0JBQ3ZDLDBCQUF3QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNyQyxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0tBQ0g7QUFDSCxDQUFDIn0=","import { EventListener } from \"./event_listener\";\nvar Dispatcher = /** @class */ (function () {\n    function Dispatcher(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map;\n        this.started = false;\n    }\n    Dispatcher.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.connect(); });\n        }\n    };\n    Dispatcher.prototype.stop = function () {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.disconnect(); });\n        }\n    };\n    Object.defineProperty(Dispatcher.prototype, \"eventListeners\", {\n        get: function () {\n            return Array.from(this.eventListenerMaps.values())\n                .reduce(function (listeners, map) { return listeners.concat(Array.from(map.values())); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Binding observer delegate\n    /** @hidden */\n    Dispatcher.prototype.bindingConnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    };\n    /** @hidden */\n    Dispatcher.prototype.bindingDisconnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n    };\n    // Error handling\n    Dispatcher.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    Dispatcher.prototype.fetchEventListenerForBinding = function (binding) {\n        var eventTarget = binding.eventTarget, eventName = binding.eventName;\n        return this.fetchEventListener(eventTarget, eventName);\n    };\n    Dispatcher.prototype.fetchEventListener = function (eventTarget, eventName) {\n        var eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        var eventListener = eventListenerMap.get(eventName);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName);\n            eventListenerMap.set(eventName, eventListener);\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.createEventListener = function (eventTarget, eventName) {\n        var eventListener = new EventListener(eventTarget, eventName);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.fetchEventListenerMapForEventTarget = function (eventTarget) {\n        var eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map;\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    };\n    return Dispatcher;\n}());\nexport { Dispatcher };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGF0Y2hlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaXNwYXRjaGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUVoRDtJQUtFLG9CQUFZLFdBQXdCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtJQUN0QixDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsYUFBYSxJQUFJLE9BQUEsYUFBYSxDQUFDLE9BQU8sRUFBRSxFQUF2QixDQUF1QixDQUFDLENBQUE7U0FDdEU7SUFDSCxDQUFDO0lBRUQseUJBQUksR0FBSjtRQUNFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtZQUNwQixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFBLGFBQWEsSUFBSSxPQUFBLGFBQWEsQ0FBQyxVQUFVLEVBQUUsRUFBMUIsQ0FBMEIsQ0FBQyxDQUFBO1NBQ3pFO0lBQ0gsQ0FBQztJQUVELHNCQUFJLHNDQUFjO2FBQWxCO1lBQ0UsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDL0MsTUFBTSxDQUFDLFVBQUMsU0FBUyxFQUFFLEdBQUcsSUFBSyxPQUFBLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUExQyxDQUEwQyxFQUFFLEVBQXFCLENBQUMsQ0FBQTtRQUNsRyxDQUFDOzs7T0FBQTtJQUVELDRCQUE0QjtJQUU1QixjQUFjO0lBQ2QscUNBQWdCLEdBQWhCLFVBQWlCLE9BQWdCO1FBQy9CLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN0RSxDQUFDO0lBRUQsY0FBYztJQUNkLHdDQUFtQixHQUFuQixVQUFvQixPQUFnQjtRQUNsQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUVELGlCQUFpQjtJQUVqQixnQ0FBVyxHQUFYLFVBQVksS0FBWSxFQUFFLE9BQWUsRUFBRSxNQUFtQjtRQUFuQix1QkFBQSxFQUFBLFdBQW1CO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFTLE9BQVMsRUFBRSxNQUFNLENBQUMsQ0FBQTtJQUNqRSxDQUFDO0lBRU8saURBQTRCLEdBQXBDLFVBQXFDLE9BQWdCO1FBQzNDLElBQUEsaUNBQVcsRUFBRSw2QkFBUyxDQUFZO1FBQzFDLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRU8sdUNBQWtCLEdBQTFCLFVBQTJCLFdBQXdCLEVBQUUsU0FBaUI7UUFDcEUsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUNBQW1DLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDOUUsSUFBSSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ25ELElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDbEIsYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7WUFDaEUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUMvQztRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3Q0FBbUIsR0FBM0IsVUFBNEIsV0FBd0IsRUFBRSxTQUFpQjtRQUNyRSxJQUFNLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7UUFDL0QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtTQUN4QjtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3REFBbUMsR0FBM0MsVUFBNEMsV0FBd0I7UUFDbEUsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzlELElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUNyQixnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBO1NBQzFEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQTtJQUN6QixDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDLEFBL0VELElBK0VDIn0=","// capture nos.:            12   23 4               43   1 5   56 7  76\nvar descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;\nexport function parseDescriptorString(descriptorString) {\n    var source = descriptorString.trim();\n    var matches = source.match(descriptorPattern) || [];\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName: matches[2],\n        identifier: matches[5],\n        methodName: matches[7]\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nexport function stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uX2Rlc2NyaXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYWN0aW9uX2Rlc2NyaXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0EsdUVBQXVFO0FBQ3ZFLElBQU0saUJBQWlCLEdBQUcsZ0RBQWdELENBQUE7QUFFMUUsTUFBTSxnQ0FBZ0MsZ0JBQXdCO0lBQzVELElBQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQ3RDLElBQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDckQsT0FBTztRQUNMLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsU0FBUyxFQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDeEIsQ0FBQTtBQUNILENBQUM7QUFFRCwwQkFBMEIsZUFBdUI7SUFDL0MsSUFBSSxlQUFlLElBQUksUUFBUSxFQUFFO1FBQy9CLE9BQU8sTUFBTSxDQUFBO0tBQ2Q7U0FBTSxJQUFJLGVBQWUsSUFBSSxVQUFVLEVBQUU7UUFDeEMsT0FBTyxRQUFRLENBQUE7S0FDaEI7QUFDSCxDQUFDO0FBRUQsTUFBTSwrQkFBK0IsV0FBd0I7SUFDM0QsSUFBSSxXQUFXLElBQUksTUFBTSxFQUFFO1FBQ3pCLE9BQU8sUUFBUSxDQUFBO0tBQ2hCO1NBQU0sSUFBSSxXQUFXLElBQUksUUFBUSxFQUFFO1FBQ2xDLE9BQU8sVUFBVSxDQUFBO0tBQ2xCO0FBQ0gsQ0FBQyJ9","import { parseDescriptorString, stringifyEventTarget } from \"./action_descriptor\";\nvar Action = /** @class */ (function () {\n    function Action(element, index, descriptor) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n    }\n    Action.forToken = function (token) {\n        return new this(token.element, token.index, parseDescriptorString(token.content));\n    };\n    Action.prototype.toString = function () {\n        var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n        return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n    };\n    Object.defineProperty(Action.prototype, \"eventTargetName\", {\n        get: function () {\n            return stringifyEventTarget(this.eventTarget);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Action;\n}());\nexport { Action };\nvar defaultEventNames = {\n    \"a\": function (e) { return \"click\"; },\n    \"button\": function (e) { return \"click\"; },\n    \"form\": function (e) { return \"submit\"; },\n    \"input\": function (e) { return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"change\"; },\n    \"select\": function (e) { return \"change\"; },\n    \"textarea\": function (e) { return \"change\"; }\n};\nexport function getDefaultEventNameForElement(element) {\n    var tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW9CLHFCQUFxQixFQUFFLG9CQUFvQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFHbkc7SUFZRSxnQkFBWSxPQUFnQixFQUFFLEtBQWEsRUFBRSxVQUFxQztRQUNoRixJQUFJLENBQUMsT0FBTyxHQUFPLE9BQU8sQ0FBQTtRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFTLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFBO1FBQ3BELElBQUksQ0FBQyxTQUFTLEdBQUssVUFBVSxDQUFDLFNBQVMsSUFBSSw2QkFBNkIsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUNoSCxJQUFJLENBQUMsVUFBVSxHQUFJLFVBQVUsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLFVBQVUsR0FBSSxVQUFVLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQzFFLENBQUM7SUFYTSxlQUFRLEdBQWYsVUFBZ0IsS0FBWTtRQUMxQixPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBV0QseUJBQVEsR0FBUjtRQUNFLElBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQUksSUFBSSxDQUFDLGVBQWlCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUM5RSxPQUFPLEtBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxlQUFlLFVBQUssSUFBSSxDQUFDLFVBQVUsU0FBSSxJQUFJLENBQUMsVUFBWSxDQUFBO0lBQ3JGLENBQUM7SUFFRCxzQkFBWSxtQ0FBZTthQUEzQjtZQUNFLE9BQU8sb0JBQW9CLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQy9DLENBQUM7OztPQUFBO0lBQ0gsYUFBQztBQUFELENBQUMsQUE3QkQsSUE2QkM7O0FBRUQsSUFBTSxpQkFBaUIsR0FBd0Q7SUFDN0UsR0FBRyxFQUFTLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsUUFBUSxFQUFJLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsTUFBTSxFQUFNLFVBQUEsQ0FBQyxJQUFJLE9BQUEsUUFBUSxFQUFSLENBQVE7SUFDekIsT0FBTyxFQUFLLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUF2RCxDQUF1RDtJQUN4RSxRQUFRLEVBQUksVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtJQUN6QixVQUFVLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtDQUMxQixDQUFBO0FBRUQsTUFBTSx3Q0FBd0MsT0FBZ0I7SUFDNUQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQTtJQUM3QyxJQUFJLE9BQU8sSUFBSSxpQkFBaUIsRUFBRTtRQUNoQyxPQUFPLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0tBQzNDO0FBQ0gsQ0FBQztBQUVELGVBQWUsT0FBZTtJQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzFCLENBQUMifQ==","var Binding = /** @class */ (function () {\n    function Binding(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    Object.defineProperty(Binding.prototype, \"index\", {\n        get: function () {\n            return this.action.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"eventTarget\", {\n        get: function () {\n            return this.action.eventTarget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.handleEvent = function (event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"eventName\", {\n        get: function () {\n            return this.action.eventName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"method\", {\n        get: function () {\n            var method = this.controller[this.methodName];\n            if (typeof method == \"function\") {\n                return method;\n            }\n            throw new Error(\"Action \\\"\" + this.action + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.invokeWithEvent = function (event) {\n        try {\n            this.method.call(this.controller, event);\n        }\n        catch (error) {\n            var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element, index = _a.index;\n            var detail = { identifier: identifier, controller: controller, element: element, index: index, event: event };\n            this.context.handleError(error, \"invoking action \\\"\" + this.action + \"\\\"\", detail);\n        }\n    };\n    Binding.prototype.willBeInvokedByEvent = function (event) {\n        var eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return true;\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"methodName\", {\n        get: function () {\n            return this.action.methodName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Binding;\n}());\nexport { Binding };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0lBSUUsaUJBQVksT0FBZ0IsRUFBRSxNQUFjO1FBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO0lBQ3RCLENBQUM7SUFFRCxzQkFBSSwwQkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBVyxHQUFYLFVBQVksS0FBWTtRQUN0QixJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLDhCQUFTO2FBQWI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMkJBQU07YUFBVjtZQUNFLElBQU0sTUFBTSxHQUFJLElBQUksQ0FBQyxVQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUN4RCxJQUFJLE9BQU8sTUFBTSxJQUFJLFVBQVUsRUFBRTtnQkFDL0IsT0FBTyxNQUFNLENBQUE7YUFDZDtZQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBVyxJQUFJLENBQUMsTUFBTSx5Q0FBa0MsSUFBSSxDQUFDLFVBQVUsT0FBRyxDQUFDLENBQUE7UUFDN0YsQ0FBQzs7O09BQUE7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixLQUFZO1FBQ2xDLElBQUk7WUFDRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3pDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDUixJQUFBLFNBQWlELEVBQS9DLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxFQUFFLGdCQUFLLENBQVM7WUFDdkQsSUFBTSxNQUFNLEdBQUcsRUFBRSxVQUFVLFlBQUEsRUFBRSxVQUFVLFlBQUEsRUFBRSxPQUFPLFNBQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1lBQ2hFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBb0IsSUFBSSxDQUFDLE1BQU0sT0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzVFO0lBQ0gsQ0FBQztJQUVPLHNDQUFvQixHQUE1QixVQUE2QixLQUFZO1FBQ3ZDLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUE7UUFDaEMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFdBQVcsRUFBRTtZQUNoQyxPQUFPLElBQUksQ0FBQTtTQUNaO2FBQU0sSUFBSSxXQUFXLFlBQVksT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQy9FLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUE7U0FDL0M7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFBO1NBQ1o7SUFDSCxDQUFDO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFBO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQVksNEJBQU87YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQVksMEJBQUs7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBQ0gsY0FBQztBQUFELENBQUMsQUEzRUQsSUEyRUMifQ==","var ElementObserver = /** @class */ (function () {\n    function ElementObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    ElementObserver.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, childList: true, subtree: true });\n            this.refresh();\n        }\n    };\n    ElementObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    ElementObserver.prototype.refresh = function () {\n        if (this.started) {\n            var matches = new Set(this.matchElementsInTree());\n            for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n                var element = _c[_b];\n                this.addElement(element);\n            }\n        }\n    };\n    // Mutation record processing\n    ElementObserver.prototype.processMutations = function (mutations) {\n        if (this.started) {\n            for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n                var mutation = mutations_1[_i];\n                this.processMutation(mutation);\n            }\n        }\n    };\n    ElementObserver.prototype.processMutation = function (mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    };\n    ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n        var element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    };\n    ElementObserver.prototype.processRemovedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    };\n    ElementObserver.prototype.processAddedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    };\n    // Element matching\n    ElementObserver.prototype.matchElement = function (element) {\n        return this.delegate.matchElement(element);\n    };\n    ElementObserver.prototype.matchElementsInTree = function (tree) {\n        if (tree === void 0) { tree = this.element; }\n        return this.delegate.matchElementsInTree(tree);\n    };\n    ElementObserver.prototype.processTree = function (tree, processor) {\n        for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n            var element = _a[_i];\n            processor.call(this, element);\n        }\n    };\n    ElementObserver.prototype.elementFromNode = function (node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    };\n    ElementObserver.prototype.elementIsActive = function (element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    };\n    // Element tracking\n    ElementObserver.prototype.addElement = function (element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    };\n    ElementObserver.prototype.removeElement = function (element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    };\n    return ElementObserver;\n}());\nexport { ElementObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lbGVtZW50X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBO0lBUUUseUJBQVksT0FBZ0IsRUFBRSxRQUFpQztRQUEvRCxpQkFPQztRQU5DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUE7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEVBQWhDLENBQWdDLENBQUMsQ0FBQTtJQUMvRixDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtZQUNqRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7U0FDZjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLENBQUE7WUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7U0FDckI7SUFDSCxDQUFDO0lBRUQsaUNBQU8sR0FBUDtRQUNFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFBO1lBRW5ELEtBQXNCLFVBQXlCLEVBQXpCLEtBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQXpCLGNBQXlCLEVBQXpCLElBQXlCLEVBQUU7Z0JBQTVDLElBQU0sT0FBTyxTQUFBO2dCQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtvQkFDekIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtpQkFDNUI7YUFDRjtZQUVELEtBQXNCLFVBQW1CLEVBQW5CLEtBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBbkIsY0FBbUIsRUFBbkIsSUFBbUIsRUFBRTtnQkFBdEMsSUFBTSxPQUFPLFNBQUE7Z0JBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUE7YUFDekI7U0FDRjtJQUNILENBQUM7SUFFRCw2QkFBNkI7SUFFckIsMENBQWdCLEdBQXhCLFVBQXlCLFNBQTJCO1FBQ2xELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixLQUF1QixVQUFTLEVBQVQsdUJBQVMsRUFBVCx1QkFBUyxFQUFULElBQVMsRUFBRTtnQkFBN0IsSUFBTSxRQUFRLGtCQUFBO2dCQUNqQixJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFBO2FBQy9CO1NBQ0Y7SUFDSCxDQUFDO0lBRU8seUNBQWUsR0FBdkIsVUFBd0IsUUFBd0I7UUFDOUMsSUFBSSxRQUFRLENBQUMsSUFBSSxJQUFJLFlBQVksRUFBRTtZQUNqQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsYUFBYyxDQUFDLENBQUE7U0FDdEU7YUFBTSxJQUFJLFFBQVEsQ0FBQyxJQUFJLElBQUksV0FBVyxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUE7WUFDL0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQTtTQUM1QztJQUNILENBQUM7SUFFTyxnREFBc0IsR0FBOUIsVUFBK0IsSUFBVSxFQUFFLGFBQXFCO1FBQzlELElBQU0sT0FBTyxHQUFHLElBQWUsQ0FBQTtRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQzlCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUN2RSxJQUFJLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTthQUM5RDtpQkFBTTtnQkFDTCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFBO2FBQzVCO1NBQ0Y7YUFBTSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDckMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUN6QjtJQUNILENBQUM7SUFFTyw2Q0FBbUIsR0FBM0IsVUFBNEIsS0FBZTtRQUN6QyxLQUFtQixVQUFpQixFQUFqQixLQUFBLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQWpCLGNBQWlCLEVBQWpCLElBQWlCLEVBQUU7WUFBakMsSUFBTSxJQUFJLFNBQUE7WUFDYixJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQzFDLElBQUksT0FBTyxFQUFFO2dCQUNYLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQTthQUM5QztTQUNGO0lBQ0gsQ0FBQztJQUVPLDJDQUFpQixHQUF6QixVQUEwQixLQUFlO1FBQ3ZDLEtBQW1CLFVBQWlCLEVBQWpCLEtBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBakIsY0FBaUIsRUFBakIsSUFBaUIsRUFBRTtZQUFqQyxJQUFNLElBQUksU0FBQTtZQUNiLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDMUMsSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO2FBQzNDO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsbUJBQW1CO0lBRVgsc0NBQVksR0FBcEIsVUFBcUIsT0FBZ0I7UUFDbkMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUM1QyxDQUFDO0lBRU8sNkNBQW1CLEdBQTNCLFVBQTRCLElBQTRCO1FBQTVCLHFCQUFBLEVBQUEsT0FBZ0IsSUFBSSxDQUFDLE9BQU87UUFDdEQsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ2hELENBQUM7SUFFTyxxQ0FBVyxHQUFuQixVQUFvQixJQUFhLEVBQUUsU0FBcUM7UUFDdEUsS0FBc0IsVUFBOEIsRUFBOUIsS0FBQSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEVBQTlCLGNBQThCLEVBQTlCLElBQThCLEVBQUU7WUFBakQsSUFBTSxPQUFPLFNBQUE7WUFDaEIsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUE7U0FDOUI7SUFDSCxDQUFDO0lBRU8seUNBQWUsR0FBdkIsVUFBd0IsSUFBVTtRQUNoQyxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUN0QyxPQUFPLElBQWUsQ0FBQTtTQUN2QjtJQUNILENBQUM7SUFFTyx5Q0FBZSxHQUF2QixVQUF3QixPQUFnQjtRQUN0QyxJQUFJLE9BQU8sQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUU7WUFDbkQsT0FBTyxLQUFLLENBQUE7U0FDYjthQUFNO1lBQ0wsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUN0QztJQUNILENBQUM7SUFFRCxtQkFBbUI7SUFFWCxvQ0FBVSxHQUFsQixVQUFtQixPQUFnQjtRQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUNqQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtnQkFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRTtvQkFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUE7aUJBQ3RDO2FBQ0Y7U0FDRjtJQUNILENBQUM7SUFFTyx1Q0FBYSxHQUFyQixVQUFzQixPQUFnQjtRQUNwQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzdCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTthQUN4QztTQUNGO0lBQ0gsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0FBQyxBQXRKRCxJQXNKQyJ9","import { ElementObserver } from \"./element_observer\";\nvar AttributeObserver = /** @class */ (function () {\n    function AttributeObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    Object.defineProperty(AttributeObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    AttributeObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    AttributeObserver.prototype.refresh = function () {\n        this.elementObserver.refresh();\n    };\n    Object.defineProperty(AttributeObserver.prototype, \"started\", {\n        get: function () {\n            return this.elementObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Element observer delegate\n    AttributeObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    AttributeObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    AttributeObserver.prototype.elementMatched = function (element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementUnmatched = function (element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    };\n    return AttributeObserver;\n}());\nexport { AttributeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX29ic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2F0dHJpYnV0ZV9vYnNlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUEyQixNQUFNLG9CQUFvQixDQUFBO0FBUTdFO0lBTUUsMkJBQVksT0FBZ0IsRUFBRSxhQUFxQixFQUFFLFFBQW1DO1FBQ3RGLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFBO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxlQUFlLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzNELENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQTtRQUNyQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFRO2FBQVo7WUFDRSxPQUFPLE1BQUksSUFBSSxDQUFDLGFBQWEsTUFBRyxDQUFBO1FBQ2xDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDOUIsQ0FBQztJQUVELGdDQUFJLEdBQUo7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQzdCLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFDckMsQ0FBQzs7O09BQUE7SUFFRCw0QkFBNEI7SUFFNUIsd0NBQVksR0FBWixVQUFhLE9BQWdCO1FBQzNCLE9BQU8sT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7SUFDakQsQ0FBQztJQUVELCtDQUFtQixHQUFuQixVQUFvQixJQUFhO1FBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUNuRCxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQTtRQUNoRSxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDOUIsQ0FBQztJQUVELDBDQUFjLEdBQWQsVUFBZSxPQUFnQjtRQUM3QixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUU7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ25FO0lBQ0gsQ0FBQztJQUVELDRDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCLEVBQUU7WUFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ3JFO0lBQ0gsQ0FBQztJQUVELG1EQUF1QixHQUF2QixVQUF3QixPQUFnQixFQUFFLGFBQXFCO1FBQzdELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLGFBQWEsRUFBRTtZQUNyRixJQUFJLENBQUMsUUFBUSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUNuRTtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFsRUQsSUFrRUMifQ==","export function add(map, key, value) {\n    fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nexport function fetch(map, key) {\n    var values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nexport function prune(map, key) {\n    var values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0X29wZXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2V0X29wZXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxjQUFvQixHQUFtQixFQUFFLEdBQU0sRUFBRSxLQUFRO0lBQzdELEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzVCLENBQUM7QUFFRCxNQUFNLGNBQW9CLEdBQW1CLEVBQUUsR0FBTSxFQUFFLEtBQVE7SUFDN0QsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDN0IsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUNqQixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDekIsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNYLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO1FBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0tBQ3JCO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDM0IsSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO1FBQ3RDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDaEI7QUFDSCxDQUFDIn0=","import { add, del } from \"./set_operations\";\nvar Multimap = /** @class */ (function () {\n    function Multimap() {\n        this.valuesByKey = new Map();\n    }\n    Object.defineProperty(Multimap.prototype, \"values\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (values, set) { return values.concat(Array.from(set)); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Multimap.prototype, \"size\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (size, set) { return size + set.size; }, 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Multimap.prototype.add = function (key, value) {\n        add(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.delete = function (key, value) {\n        del(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.has = function (key, value) {\n        var values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    };\n    Multimap.prototype.hasKey = function (key) {\n        return this.valuesByKey.has(key);\n    };\n    Multimap.prototype.hasValue = function (value) {\n        var sets = Array.from(this.valuesByKey.values());\n        return sets.some(function (set) { return set.has(value); });\n    };\n    Multimap.prototype.getValuesForKey = function (key) {\n        var values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    };\n    Multimap.prototype.getKeysForValue = function (value) {\n        return Array.from(this.valuesByKey)\n            .filter(function (_a) {\n            var key = _a[0], values = _a[1];\n            return values.has(value);\n        })\n            .map(function (_a) {\n            var key = _a[0], values = _a[1];\n            return key;\n        });\n    };\n    return Multimap;\n}());\nexport { Multimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGltYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbXVsdGltYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUUzQztJQUdFO1FBQ0UsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFBO0lBQ3pDLENBQUM7SUFFRCxzQkFBSSw0QkFBTTthQUFWO1lBQ0UsSUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7WUFDbEQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUE5QixDQUE4QixFQUFRLEVBQUUsQ0FBQyxDQUFBO1FBQy9FLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMEJBQUk7YUFBUjtZQUNFLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1lBQ2xELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUksRUFBRSxHQUFHLElBQUssT0FBQSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBZixDQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdkQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCx5QkFBTSxHQUFOLFVBQU8sR0FBTSxFQUFFLEtBQVE7UUFDckIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDNUMsQ0FBQztJQUVELHlCQUFNLEdBQU4sVUFBTyxHQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsMkJBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUNsRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFkLENBQWMsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCxrQ0FBZSxHQUFmLFVBQWdCLEdBQU07UUFDcEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsa0NBQWUsR0FBZixVQUFnQixLQUFRO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO2FBQ2hDLE1BQU0sQ0FBQyxVQUFDLEVBQWE7Z0JBQVosV0FBRyxFQUFFLGNBQU07WUFBTSxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQWpCLENBQWlCLENBQUM7YUFDNUMsR0FBRyxDQUFDLFVBQUMsRUFBYTtnQkFBWixXQUFHLEVBQUUsY0FBTTtZQUFNLE9BQUEsR0FBRztRQUFILENBQUcsQ0FBQyxDQUFBO0lBQ2hDLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0FBQyxBQWpERCxJQWlEQyJ9","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\nvar IndexedMultimap = /** @class */ (function (_super) {\n    __extends(IndexedMultimap, _super);\n    function IndexedMultimap() {\n        var _this = _super.call(this) || this;\n        _this.keysByValue = new Map;\n        return _this;\n    }\n    Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n        get: function () {\n            return Array.from(this.keysByValue.keys());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IndexedMultimap.prototype.add = function (key, value) {\n        _super.prototype.add.call(this, key, value);\n        add(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.delete = function (key, value) {\n        _super.prototype.delete.call(this, key, value);\n        del(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.hasValue = function (value) {\n        return this.keysByValue.has(value);\n    };\n    IndexedMultimap.prototype.getKeysForValue = function (value) {\n        var set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    };\n    return IndexedMultimap;\n}(Multimap));\nexport { IndexedMultimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXhlZF9tdWx0aW1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleGVkX211bHRpbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBQ3JDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFM0M7SUFBMkMsbUNBQWM7SUFHdkQ7UUFBQSxZQUNFLGlCQUFPLFNBRVI7UUFEQyxLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksR0FBRyxDQUFBOztJQUM1QixDQUFDO0lBRUQsc0JBQUksbUNBQU07YUFBVjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsaUJBQU0sR0FBRyxZQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBTyxHQUFNLEVBQUUsS0FBUTtRQUNyQixpQkFBTSxNQUFNLFlBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsa0NBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFRCx5Q0FBZSxHQUFmLFVBQWdCLEtBQVE7UUFDdEIsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDdkMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUNuQyxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDLEFBOUJELENBQTJDLFFBQVEsR0E4QmxEIn0=","import { AttributeObserver } from \"./attribute_observer\";\nimport { Multimap } from \"@stimulus/multimap\";\nvar TokenListObserver = /** @class */ (function () {\n    function TokenListObserver(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap;\n    }\n    Object.defineProperty(TokenListObserver.prototype, \"started\", {\n        get: function () {\n            return this.attributeObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TokenListObserver.prototype.start = function () {\n        this.attributeObserver.start();\n    };\n    TokenListObserver.prototype.stop = function () {\n        this.attributeObserver.stop();\n    };\n    TokenListObserver.prototype.refresh = function () {\n        this.attributeObserver.refresh();\n    };\n    Object.defineProperty(TokenListObserver.prototype, \"element\", {\n        get: function () {\n            return this.attributeObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TokenListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.attributeObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Attribute observer delegate\n    TokenListObserver.prototype.elementMatchedAttribute = function (element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    };\n    TokenListObserver.prototype.elementAttributeValueChanged = function (element) {\n        var _a = this.refreshTokensForElement(element), unmatchedTokens = _a[0], matchedTokens = _a[1];\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    };\n    TokenListObserver.prototype.elementUnmatchedAttribute = function (element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    };\n    TokenListObserver.prototype.tokensMatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenMatched(token); });\n    };\n    TokenListObserver.prototype.tokensUnmatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenUnmatched(token); });\n    };\n    TokenListObserver.prototype.tokenMatched = function (token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    };\n    TokenListObserver.prototype.tokenUnmatched = function (token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    };\n    TokenListObserver.prototype.refreshTokensForElement = function (element) {\n        var previousTokens = this.tokensByElement.getValuesForKey(element);\n        var currentTokens = this.readTokensForElement(element);\n        var firstDifferingIndex = zip(previousTokens, currentTokens)\n            .findIndex(function (_a) {\n            var previousToken = _a[0], currentToken = _a[1];\n            return !tokensAreEqual(previousToken, currentToken);\n        });\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    };\n    TokenListObserver.prototype.readTokensForElement = function (element) {\n        var attributeName = this.attributeName;\n        var tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    };\n    return TokenListObserver;\n}());\nexport { TokenListObserver };\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString.trim().split(/\\s+/).filter(function (content) { return content.length; })\n        .map(function (content, index) { return ({ element: element, attributeName: attributeName, content: content, index: index }); });\n}\nfunction zip(left, right) {\n    var length = Math.max(left.length, right.length);\n    return Array.from({ length: length }, function (_, index) { return [left[index], right[index]]; });\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5fbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90b2tlbl9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSxzQkFBc0IsQ0FBQTtBQUNuRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFjN0M7SUFLRSwyQkFBWSxPQUFnQixFQUFFLGFBQXFCLEVBQUUsUUFBbUM7UUFDdEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksUUFBUSxDQUFBO0lBQ3JDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsZ0NBQUksR0FBSjtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsbUNBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQTtRQUN2QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRDQUFhO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFBO1FBQzdDLENBQUM7OztPQUFBO0lBRUQsOEJBQThCO0lB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","import { TokenListObserver } from \"./token_list_observer\";\nvar ValueListObserver = /** @class */ (function () {\n    function ValueListObserver(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap;\n        this.valuesByTokenByElement = new WeakMap;\n    }\n    Object.defineProperty(ValueListObserver.prototype, \"started\", {\n        get: function () {\n            return this.tokenListObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    ValueListObserver.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    ValueListObserver.prototype.refresh = function () {\n        this.tokenListObserver.refresh();\n    };\n    Object.defineProperty(ValueListObserver.prototype, \"element\", {\n        get: function () {\n            return this.tokenListObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ValueListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.tokenListObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.tokenMatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.tokenUnmatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.fetchParseResultForToken = function (token) {\n        var parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    };\n    ValueListObserver.prototype.fetchValuesByTokenForElement = function (element) {\n        var valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map;\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    };\n    ValueListObserver.prototype.parseToken = function (token) {\n        try {\n            var value = this.delegate.parseValueForToken(token);\n            return { value: value };\n        }\n        catch (error) {\n            return { error: error };\n        }\n    };\n    return ValueListObserver;\n}());\nexport { ValueListObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsdWVfbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWx1ZV9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBUyxpQkFBaUIsRUFBNkIsTUFBTSx1QkFBdUIsQ0FBQTtBQWEzRjtJQU1FLDJCQUFZLE9BQWdCLEVBQUUsYUFBcUIsRUFBRSxRQUFzQztRQUN6RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLE9BQU8sQ0FBQTtRQUN0QyxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxPQUFPLENBQUE7SUFDM0MsQ0FBQztJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUE7UUFDdkMsQ0FBQzs7O09BQUE7SUFFRCxpQ0FBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxnQ0FBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNENBQWE7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUE7UUFDN0MsQ0FBQzs7O09BQUE7SUFFRCx3Q0FBWSxHQUFaLFVBQWEsS0FBWTtRQUNmLElBQUEsdUJBQU8sQ0FBVTtRQUNqQixJQUFBLGtEQUFLLENBQXlDO1FBQ3RELElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDNUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUE7U0FDbEQ7SUFDSCxDQUFDO0lBRUQsMENBQWMsR0FBZCxVQUFlLEtBQVk7UUFDakIsSUFBQSx1QkFBTyxDQUFVO1FBQ2pCLElBQUEsa0RBQUssQ0FBeUM7UUFDdEQsSUFBSSxLQUFLLEVBQUU7WUFDVCxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3BEO0lBQ0gsQ0FBQztJQUVPLG9EQUF3QixHQUFoQyxVQUFpQyxLQUFZO1FBQzNDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckQsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQTtTQUNqRDtRQUNELE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFFTyx3REFBNEIsR0FBcEMsVUFBcUMsT0FBZ0I7UUFDbkQsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUM1RCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUN2QixJQUFJLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUN4RDtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyxzQ0FBVSxHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQUk7WUFDRixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3JELE9BQU8sRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1NBQ2pCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxPQUFPLEVBQUUsS0FBSyxPQUFBLEVBQUUsQ0FBQTtTQUNqQjtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFqRkQsSUFpRkMifQ==","import { Action } from \"./action\";\nimport { Binding } from \"./binding\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar BindingObserver = /** @class */ (function () {\n    function BindingObserver(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map;\n    }\n    BindingObserver.prototype.start = function () {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    };\n    BindingObserver.prototype.stop = function () {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    };\n    Object.defineProperty(BindingObserver.prototype, \"element\", {\n        get: function () {\n            return this.context.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"actionAttribute\", {\n        get: function () {\n            return this.schema.actionAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"schema\", {\n        get: function () {\n            return this.context.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.bindingsByAction.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BindingObserver.prototype.connectAction = function (action) {\n        var binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    };\n    BindingObserver.prototype.disconnectAction = function (action) {\n        var binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    };\n    BindingObserver.prototype.disconnectAllActions = function () {\n        var _this = this;\n        this.bindings.forEach(function (binding) { return _this.delegate.bindingDisconnected(binding); });\n        this.bindingsByAction.clear();\n    };\n    // Value observer delegate\n    BindingObserver.prototype.parseValueForToken = function (token) {\n        var action = Action.forToken(token);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    };\n    BindingObserver.prototype.elementMatchedValue = function (element, action) {\n        this.connectAction(action);\n    };\n    BindingObserver.prototype.elementUnmatchedValue = function (element, action) {\n        this.disconnectAction(action);\n    };\n    return BindingObserver;\n}());\nexport { BindingObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nX29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUluQyxPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFNRSx5QkFBWSxPQUFnQixFQUFFLFFBQWlDO1FBQzdELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFBO1lBQ3hGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtTQUMvQjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO1lBQzdCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFBO1lBQzdCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLG9DQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFBO1FBQzdCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksdUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0Q0FBZTthQUFuQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUE7UUFDcEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxtQ0FBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQTtRQUM1QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHFDQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDbkQsQ0FBQzs7O09BQUE7SUFFTyx1Q0FBYSxHQUFyQixVQUFzQixNQUFjO1FBQ2xDLElBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDakQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN6QyxDQUFDO0lBRU8sMENBQWdCLEdBQXhCLFVBQXlCLE1BQWM7UUFDckMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNqRCxJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUMzQztJQUNILENBQUM7SUFFTyw4Q0FBb0IsR0FBNUI7UUFBQSxpQkFHQztRQUZDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsT0FBTyxJQUFJLE9BQUEsS0FBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBMUMsQ0FBMEMsQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsMEJBQTBCO0lBRTFCLDRDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckMsSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDeEMsT0FBTyxNQUFNLENBQUE7U0FDZDtJQUNILENBQUM7SUFFRCw2Q0FBbUIsR0FBbkIsVUFBb0IsT0FBZ0IsRUFBRSxNQUFjO1FBQ2xELElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDNUIsQ0FBQztJQUVELCtDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLE1BQWM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQUFsRkQsSUFrRkMifQ==","import { BindingObserver } from \"./binding_observer\";\nvar Context = /** @class */ (function () {\n    function Context(module, scope) {\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        try {\n            this.controller.initialize();\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    Context.prototype.connect = function () {\n        this.bindingObserver.start();\n        try {\n            this.controller.connect();\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    };\n    Context.prototype.disconnect = function () {\n        try {\n            this.controller.disconnect();\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.bindingObserver.stop();\n    };\n    Object.defineProperty(Context.prototype, \"application\", {\n        get: function () {\n            return this.module.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"identifier\", {\n        get: function () {\n            return this.module.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"dispatcher\", {\n        get: function () {\n            return this.application.dispatcher;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"parentElement\", {\n        get: function () {\n            return this.element.parentElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Error handling\n    Context.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element;\n        detail = Object.assign({ identifier: identifier, controller: controller, element: element }, detail);\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQVFwRDtJQU1FLGlCQUFZLE1BQWMsRUFBRSxLQUFZO1FBQ3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDeEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBRWpFLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQzdCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx5QkFBeUIsQ0FBQyxDQUFBO1NBQ25EO0lBQ0gsQ0FBQztJQUVELHlCQUFPLEdBQVA7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFBO1FBRTVCLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO1NBQzFCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBdUIsQ0FBQyxDQUFBO1NBQ2pEO0lBQ0gsQ0FBQztJQUVELDRCQUFVLEdBQVY7UUFDRSxJQUFJO1lBQ0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtTQUM3QjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsMEJBQTBCLENBQUMsQ0FBQTtTQUNwRDtRQUVELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDN0IsQ0FBQztJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUE7UUFDL0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwyQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFBO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNEJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxrQ0FBYTthQUFqQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUE7UUFDbkMsQ0FBQzs7O09BQUE7SUFFRCxpQkFBaUI7SUFFakIsNkJBQVcsR0FBWCxVQUFZLEtBQVksRUFBRSxPQUFlLEVBQUUsTUFBbUI7UUFBbkIsdUJBQUEsRUFBQSxXQUFtQjtRQUN0RCxJQUFBLFNBQTBDLEVBQXhDLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxDQUFTO1FBQ2hELE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsVUFBVSxZQUFBLEVBQUUsVUFBVSxZQUFBLEVBQUUsT0FBTyxTQUFBLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUNuRSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBUyxPQUFTLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNILGNBQUM7QUFBRCxDQUFDLEFBdEVELElBc0VDIn0=","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @hidden */\nexport function blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: blessControllerConstructor(definition.controllerConstructor)\n    };\n}\nfunction blessControllerConstructor(controllerConstructor) {\n    var constructor = extend(controllerConstructor);\n    constructor.bless();\n    return constructor;\n}\nvar extend = (function () {\n    function extendWithReflect(constructor) {\n        function Controller() {\n            var _newTarget = this && this instanceof Controller ? this.constructor : void 0;\n            return Reflect.construct(constructor, arguments, _newTarget);\n        }\n        Controller.prototype = Object.create(constructor.prototype, {\n            constructor: { value: Controller }\n        });\n        Reflect.setPrototypeOf(Controller, constructor);\n        return Controller;\n    }\n    function testReflectExtension() {\n        var a = function () { this.a.call(this); };\n        var b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return function (constructor) { return /** @class */ (function (_super) {\n            __extends(Controller, _super);\n            function Controller() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return Controller;\n        }(constructor)); };\n    }\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZWZpbml0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFPQSxjQUFjO0FBQ2QsTUFBTSwwQkFBMEIsVUFBc0I7SUFDcEQsT0FBTztRQUNMLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVTtRQUNqQyxxQkFBcUIsRUFBRSwwQkFBMEIsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUM7S0FDcEYsQ0FBQTtBQUNILENBQUM7QUFFRCxvQ0FBb0MscUJBQTRDO0lBQzlFLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQ2pELFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNuQixPQUFPLFdBQVcsQ0FBQTtBQUNwQixDQUFDO0FBRUQsSUFBTSxNQUFNLEdBQUcsQ0FBQztJQUdkLDJCQUFzRCxXQUFjO1FBQ2xFOztZQUNFLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsU0FBUyxhQUFhLENBQUE7UUFDOUQsQ0FBQztRQUVELFVBQVUsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFO1lBQzFELFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7U0FDbkMsQ0FBQyxDQUFBO1FBRUYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDL0MsT0FBTyxVQUFpQixDQUFBO0lBQzFCLENBQUM7SUFFRDtRQUNFLElBQU0sQ0FBQyxHQUFHLGNBQXNCLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBUSxDQUFBO1FBQzFELElBQU0sQ0FBQyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLGNBQVksQ0FBQyxDQUFBO1FBQzdCLE9BQU8sSUFBSSxDQUFDLENBQUE7SUFDZCxDQUFDO0lBRUQsSUFBSTtRQUNGLG9CQUFvQixFQUFFLENBQUE7UUFDdEIsT0FBTyxpQkFBaUIsQ0FBQTtLQUN6QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxVQUE0QixXQUFjLElBQUs7WUFBeUIsOEJBQVc7WUFBcEM7O1lBQXNDLENBQUM7WUFBRCxpQkFBQztRQUFELENBQUMsQUFBdkMsQ0FBeUIsV0FBVyxJQUFwQyxDQUF1QyxDQUFBO0tBQzlGO0FBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQSJ9","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\nvar Module = /** @class */ (function () {\n    function Module(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    Object.defineProperty(Module.prototype, \"identifier\", {\n        get: function () {\n            return this.definition.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n        get: function () {\n            return this.definition.controllerConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"contexts\", {\n        get: function () {\n            return Array.from(this.connectedContexts);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.connectContextForScope = function (scope) {\n        var context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    };\n    Module.prototype.disconnectContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    };\n    Module.prototype.fetchContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    };\n    return Module;\n}());\nexport { Module };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBRW5DLE9BQU8sRUFBYyxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUE7QUFHMUQ7SUFNRSxnQkFBWSxXQUF3QixFQUFFLFVBQXNCO1FBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDbEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksR0FBRyxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSw4QkFBVTthQUFkO1lBQ0UsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQTtRQUNuQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlDQUFxQjthQUF6QjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQTtRQUM5QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDM0MsQ0FBQzs7O09BQUE7SUFFRCx1Q0FBc0IsR0FBdEIsVUFBdUIsS0FBWTtRQUNqQyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNuQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbkIsQ0FBQztJQUVELDBDQUF5QixHQUF6QixVQUEwQixLQUFZO1FBQ3BDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQy9DLElBQUksT0FBTyxFQUFFO1lBQ1gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUN0QyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUE7U0FDckI7SUFDSCxDQUFDO0lBRU8scUNBQW9CLEdBQTVCLFVBQTZCLEtBQVk7UUFDdkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDbEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO1NBQ3pDO1FBQ0QsT0FBTyxPQUFPLENBQUE7SUFDaEIsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDIn0=","var DataMap = /** @class */ (function () {\n    function DataMap(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(DataMap.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DataMap.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DataMap.prototype.get = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.getAttribute(key);\n    };\n    DataMap.prototype.set = function (key, value) {\n        key = this.getFormattedKey(key);\n        this.element.setAttribute(key, value);\n        return this.get(key);\n    };\n    DataMap.prototype.has = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.hasAttribute(key);\n    };\n    DataMap.prototype.delete = function (key) {\n        if (this.has(key)) {\n            key = this.getFormattedKey(key);\n            this.element.removeAttribute(key);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DataMap.prototype.getFormattedKey = function (key) {\n        return \"data-\" + this.identifier + \"-\" + dasherize(key);\n    };\n    return DataMap;\n}());\nexport { DataMap };\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, function (_, char) { return \"-\" + char.toLowerCase(); });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YV9tYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGF0YV9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFHRSxpQkFBWSxLQUFZO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxzQkFBSSw0QkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksR0FBVyxFQUFFLEtBQWE7UUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN0QixDQUFDO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCx3QkFBTSxHQUFOLFVBQU8sR0FBVztRQUNoQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDakIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDakMsT0FBTyxJQUFJLENBQUE7U0FDWjthQUFNO1lBQ0wsT0FBTyxLQUFLLENBQUE7U0FDYjtJQUNILENBQUM7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixHQUFXO1FBQ2pDLE9BQU8sVUFBUSxJQUFJLENBQUMsVUFBVSxTQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUcsQ0FBQTtJQUNwRCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUE1Q0QsSUE0Q0M7O0FBRUQsbUJBQW1CLEtBQWE7SUFDOUIsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxVQUFDLENBQUMsRUFBRSxJQUFJLElBQUssT0FBQSxNQUFJLElBQUksQ0FBQyxXQUFXLEVBQUksRUFBeEIsQ0FBd0IsQ0FBQyxDQUFBO0FBQ3pFLENBQUMifQ==","/** @hidden */\nexport function attributeValueContainsToken(attributeName, token) {\n    return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0b3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NlbGVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjO0FBQ2QsTUFBTSxzQ0FBc0MsYUFBcUIsRUFBRSxLQUFhO0lBQzlFLE9BQU8sTUFBSSxhQUFhLFlBQU0sS0FBSyxRQUFJLENBQUE7QUFDekMsQ0FBQyJ9","import { attributeValueContainsToken } from \"./selectors\";\nvar TargetSet = /** @class */ (function () {\n    function TargetSet(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(TargetSet.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"schema\", {\n        get: function () {\n            return this.scope.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TargetSet.prototype.has = function (targetName) {\n        return this.find(targetName) != null;\n    };\n    TargetSet.prototype.find = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findElement(selector);\n    };\n    TargetSet.prototype.findAll = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findAllElements(selector);\n    };\n    TargetSet.prototype.getSelectorForTargetNames = function (targetNames) {\n        var _this = this;\n        return targetNames.map(function (targetName) { return _this.getSelectorForTargetName(targetName); }).join(\", \");\n    };\n    TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n        var targetDescriptor = this.identifier + \".\" + targetName;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    };\n    return TargetSet;\n}());\nexport { TargetSet };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3NldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90YXJnZXRfc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQUdFLG1CQUFZLEtBQVk7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDcEIsQ0FBQztJQUVELHNCQUFJLDhCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksaUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHVCQUFHLEdBQUgsVUFBSSxVQUFrQjtRQUNwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFBO0lBQ3RDLENBQUM7SUFFRCx3QkFBSSxHQUFKO1FBQUsscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzNCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCwyQkFBTyxHQUFQO1FBQVEscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzlCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQzdDLENBQUM7SUFFTyw2Q0FBeUIsR0FBakMsVUFBa0MsV0FBcUI7UUFBdkQsaUJBRUM7UUFEQyxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxVQUFVLElBQUksT0FBQSxLQUFJLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDLEVBQXpDLENBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDNUYsQ0FBQztJQUVPLDRDQUF3QixHQUFoQyxVQUFpQyxVQUFrQjtRQUNqRCxJQUFNLGdCQUFnQixHQUFNLElBQUksQ0FBQyxVQUFVLFNBQUksVUFBWSxDQUFBO1FBQzNELE9BQU8sMkJBQTJCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLEFBekNELElBeUNDIn0=","import { DataMap } from \"./data_map\";\nimport { TargetSet } from \"./target_set\";\nimport { attributeValueContainsToken } from \"./selectors\";\nvar Scope = /** @class */ (function () {\n    function Scope(schema, identifier, element) {\n        this.schema = schema;\n        this.identifier = identifier;\n        this.element = element;\n        this.targets = new TargetSet(this);\n        this.data = new DataMap(this);\n    }\n    Scope.prototype.findElement = function (selector) {\n        return this.findAllElements(selector)[0];\n    };\n    Scope.prototype.findAllElements = function (selector) {\n        var head = this.element.matches(selector) ? [this.element] : [];\n        var tail = this.filterElements(Array.from(this.element.querySelectorAll(selector)));\n        return head.concat(tail);\n    };\n    Scope.prototype.filterElements = function (elements) {\n        var _this = this;\n        return elements.filter(function (element) { return _this.containsElement(element); });\n    };\n    Scope.prototype.containsElement = function (element) {\n        return element.closest(this.controllerSelector) === this.element;\n    };\n    Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n        get: function () {\n            return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Scope;\n}());\nexport { Scope };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUVwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBQ3hDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQU9FLGVBQVksTUFBYyxFQUFFLFVBQWtCLEVBQUUsT0FBZ0I7UUFDOUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUE7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFFRCwyQkFBVyxHQUFYLFVBQVksUUFBZ0I7UUFDMUIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQzFDLENBQUM7SUFFRCwrQkFBZSxHQUFmLFVBQWdCLFFBQWdCO1FBQzlCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBO1FBQ2pFLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNyRixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDMUIsQ0FBQztJQUVELDhCQUFjLEdBQWQsVUFBZSxRQUFtQjtRQUFsQyxpQkFFQztRQURDLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQTdCLENBQTZCLENBQUMsQ0FBQTtJQUNsRSxDQUFDO0lBRUQsK0JBQWUsR0FBZixVQUFnQixPQUFnQjtRQUM5QixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQTtJQUNsRSxDQUFDO0lBRUQsc0JBQVkscUNBQWtCO2FBQTlCO1lBQ0UsT0FBTywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN0RixDQUFDOzs7T0FBQTtJQUNILFlBQUM7QUFBRCxDQUFDLEFBcENELElBb0NDIn0=","import { Scope } from \"./scope\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar ScopeObserver = /** @class */ (function () {\n    function ScopeObserver(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap;\n        this.scopeReferenceCounts = new WeakMap;\n    }\n    ScopeObserver.prototype.start = function () {\n        this.valueListObserver.start();\n    };\n    ScopeObserver.prototype.stop = function () {\n        this.valueListObserver.stop();\n    };\n    Object.defineProperty(ScopeObserver.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Value observer delegate\n    /** @hidden */\n    ScopeObserver.prototype.parseValueForToken = function (token) {\n        var element = token.element, identifier = token.content;\n        var scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        var scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = new Scope(this.schema, identifier, element);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementMatchedValue = function (element, value) {\n        var referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementUnmatchedValue = function (element, value) {\n        var referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    };\n    ScopeObserver.prototype.fetchScopesByIdentifierForElement = function (element) {\n        var scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map;\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    };\n    return ScopeObserver;\n}());\nexport { ScopeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVfb2JzZXJ2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGVfb2JzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUMvQixPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFRRSx1QkFBWSxPQUFnQixFQUFFLE1BQWMsRUFBRSxRQUErQjtRQUMzRSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQTtRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RixJQUFJLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDOUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksT0FBTyxDQUFBO0lBQ3pDLENBQUM7SUFFRCw2QkFBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCw0QkFBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxzQkFBSSw4Q0FBbUI7YUFBdkI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUE7UUFDeEMsQ0FBQzs7O09BQUE7SUFFRCwwQkFBMEI7SUFFMUIsY0FBYztJQUNkLDBDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQ3JCLElBQUEsdUJBQU8sRUFBRSwwQkFBbUIsQ0FBVTtRQUM5QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUUxRSxJQUFJLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDOUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNuRCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQzFDO1FBRUQsT0FBTyxLQUFLLENBQUE7SUFDZCxDQUFDO0lBRUQsY0FBYztJQUNkLDJDQUFtQixHQUFuQixVQUFvQixPQUFnQixFQUFFLEtBQVk7UUFDaEQsSUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQTtRQUNwRCxJQUFJLGNBQWMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUE7U0FDcEM7SUFDSCxDQUFDO0lBRUQsY0FBYztJQUNkLDZDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLEtBQVk7UUFDbEQsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMzRCxJQUFJLGNBQWMsRUFBRTtZQUNsQixJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDeEQsSUFBSSxjQUFjLElBQUksQ0FBQyxFQUFFO2dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFBO2FBQ3ZDO1NBQ0Y7SUFDSCxDQUFDO0lBRU8seURBQWlDLEdBQXpDLFVBQTBDLE9BQWdCO1FBQ3hELElBQUksa0JBQWtCLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDdkIsa0JBQWtCLEdBQUcsSUFBSSxHQUFHLENBQUE7WUFDNUIsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtTQUNsRTtRQUNELE9BQU8sa0JBQWtCLENBQUE7SUFDM0IsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQXpFRCxJQXlFQyJ9","import { Module } from \"./module\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { ScopeObserver } from \"./scope_observer\";\nvar Router = /** @class */ (function () {\n    function Router(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap;\n        this.modulesByIdentifier = new Map;\n    }\n    Object.defineProperty(Router.prototype, \"element\", {\n        get: function () {\n            return this.application.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"modules\", {\n        get: function () {\n            return Array.from(this.modulesByIdentifier.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"contexts\", {\n        get: function () {\n            return this.modules.reduce(function (contexts, module) { return contexts.concat(module.contexts); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.start = function () {\n        this.scopeObserver.start();\n    };\n    Router.prototype.stop = function () {\n        this.scopeObserver.stop();\n    };\n    Router.prototype.loadDefinition = function (definition) {\n        this.unloadIdentifier(definition.identifier);\n        var module = new Module(this.application, definition);\n        this.connectModule(module);\n    };\n    Router.prototype.unloadIdentifier = function (identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    };\n    Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find(function (context) { return context.element == element; });\n        }\n    };\n    // Error handler delegate\n    /** @hidden */\n    Router.prototype.handleError = function (error, message, detail) {\n        this.application.handleError(error, message, detail);\n    };\n    // Scope observer delegate\n    /** @hidden */\n    Router.prototype.scopeConnected = function (scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    };\n    /** @hidden */\n    Router.prototype.scopeDisconnected = function (scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    };\n    // Modules\n    Router.prototype.connectModule = function (module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.connectContextForScope(scope); });\n    };\n    Router.prototype.disconnectModule = function (module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.disconnectContextForScope(scope); });\n    };\n    return Router;\n}());\nexport { Router };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUc3QyxPQUFPLEVBQUUsYUFBYSxFQUF5QixNQUFNLGtCQUFrQixDQUFBO0FBRXZFO0lBTUUsZ0JBQVksV0FBd0I7UUFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUE7UUFDOUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksUUFBUSxDQUFBO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNwQyxDQUFDO0lBRUQsc0JBQUksMkJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwwQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFtQjthQUF2QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQTtRQUN4QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDdEQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0QkFBUTthQUFaO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FB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","export var defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQVc7SUFDbkMsbUJBQW1CLEVBQUUsaUJBQWlCO0lBQ3RDLGVBQWUsRUFBRSxhQUFhO0lBQzlCLGVBQWUsRUFBRSxhQUFhO0NBQy9CLENBQUEifQ==","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Dispatcher } from \"./dispatcher\";\nimport { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\nvar Application = /** @class */ (function () {\n    function Application(element, schema) {\n        if (element === void 0) { element = document.documentElement; }\n        if (schema === void 0) { schema = defaultSchema; }\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n    }\n    Application.start = function (element, schema) {\n        var application = new Application(element, schema);\n        application.start();\n        return application;\n    };\n    Application.prototype.start = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, domReady()];\n                    case 1:\n                        _a.sent();\n                        this.router.start();\n                        this.dispatcher.start();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Application.prototype.stop = function () {\n        this.router.stop();\n        this.dispatcher.stop();\n    };\n    Application.prototype.register = function (identifier, controllerConstructor) {\n        this.load({ identifier: identifier, controllerConstructor: controllerConstructor });\n    };\n    Application.prototype.load = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var definitions = Array.isArray(head) ? head : [head].concat(rest);\n        definitions.forEach(function (definition) { return _this.router.loadDefinition(definition); });\n    };\n    Application.prototype.unload = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var identifiers = Array.isArray(head) ? head : [head].concat(rest);\n        identifiers.forEach(function (identifier) { return _this.router.unloadIdentifier(identifier); });\n    };\n    Object.defineProperty(Application.prototype, \"controllers\", {\n        // Controllers\n        get: function () {\n            return this.router.contexts.map(function (context) { return context.controller; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n        var context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    };\n    // Error handling\n    Application.prototype.handleError = function (error, message, detail) {\n        console.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n    };\n    return Application;\n}());\nexport { Application };\nfunction domReady() {\n    return new Promise(function (resolve) {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", resolve);\n        }\n        else {\n            resolve();\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBRXpDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFVLGFBQWEsRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoRDtJQVlFLHFCQUFZLE9BQTJDLEVBQUUsTUFBOEI7UUFBM0Usd0JBQUEsRUFBQSxVQUFtQixRQUFRLENBQUMsZUFBZTtRQUFFLHVCQUFBLEVBQUEsc0JBQThCO1FBQ3JGLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBWE0saUJBQUssR0FBWixVQUFhLE9BQWlCLEVBQUUsTUFBZTtRQUM3QyxJQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDcEQsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ25CLE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFTSywyQkFBSyxHQUFYOzs7OzRCQUNFLHFCQUFNLFFBQVEsRUFBRSxFQUFBOzt3QkFBaEIsU0FBZ0IsQ0FBQTt3QkFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTt3QkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQTs7Ozs7S0FDeEI7SUFFRCwwQkFBSSxHQUFKO1FB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","/** @hidden */\nexport function defineTargetProperties(constructor) {\n    var prototype = constructor.prototype;\n    var targetNames = getTargetNamesForConstructor(constructor);\n    targetNames.forEach(function (name) {\n        var _a;\n        return defineLinkedProperties(prototype, (_a = {},\n            _a[name + \"Target\"] = {\n                get: function () {\n                    var target = this.targets.find(name);\n                    if (target) {\n                        return target;\n                    }\n                    else {\n                        throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n                    }\n                }\n            },\n            _a[name + \"Targets\"] = {\n                get: function () {\n                    return this.targets.findAll(name);\n                }\n            },\n            _a[\"has\" + capitalize(name) + \"Target\"] = {\n                get: function () {\n                    return this.targets.has(name);\n                }\n            },\n            _a));\n    });\n}\nfunction getTargetNamesForConstructor(constructor) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce(function (targetNames, constructor) {\n        getOwnTargetNamesForConstructor(constructor).forEach(function (name) { return targetNames.add(name); });\n        return targetNames;\n    }, new Set));\n}\nfunction getAncestorsForConstructor(constructor) {\n    var ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors;\n}\nfunction getOwnTargetNamesForConstructor(constructor) {\n    var definition = constructor[\"targets\"];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction defineLinkedProperties(object, properties) {\n    Object.keys(properties).forEach(function (name) {\n        if (!(name in object)) {\n            var descriptor = properties[name];\n            Object.defineProperty(object, name, descriptor);\n        }\n    });\n}\nfunction capitalize(name) {\n    return name.charAt(0).toUpperCase() + name.slice(1);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3Byb3BlcnRpZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGFyZ2V0X3Byb3BlcnRpZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsY0FBYztBQUNkLE1BQU0saUNBQWlDLFdBQXFCO0lBQzFELElBQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUE7SUFDdkMsSUFBTSxXQUFXLEdBQUcsNEJBQTRCLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDN0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7O1FBQUksT0FBQSxzQkFBc0IsQ0FBQyxTQUFTO1lBQzFELEdBQUksSUFBSSxXQUFRLElBQUc7Z0JBQ2pCLEdBQUc7b0JBQ0QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7b0JBQ3RDLElBQUksTUFBTSxFQUFFO3dCQUNWLE9BQU8sTUFBTSxDQUFBO3FCQUNkO3lCQUFNO3dCQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQTJCLElBQUksQ0FBQyxVQUFVLFNBQUksSUFBSSxPQUFHLENBQUMsQ0FBQTtxQkFDdkU7Z0JBQ0gsQ0FBQzthQUNGO1lBQ0QsR0FBSSxJQUFJLFlBQVMsSUFBRztnQkFDbEIsR0FBRztvQkFDRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUNuQyxDQUFDO2FBQ0Y7WUFDRCxHQUFDLFFBQU0sVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFRLElBQUc7Z0JBQ2hDLEdBQUc7b0JBQ0QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDL0IsQ0FBQzthQUNGO2dCQUNEO0lBckIwQixDQXFCMUIsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQUVELHNDQUFzQyxXQUFxQjtJQUN6RCxJQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtJQUN6RCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFDLFdBQVcsRUFBRSxXQUFXO1FBQzFELCtCQUErQixDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQXJCLENBQXFCLENBQUMsQ0FBQTtRQUNuRixPQUFPLFdBQVcsQ0FBQTtJQUNwQixDQUFDLEVBQUUsSUFBSSxHQUFrQixDQUFDLENBQUMsQ0FBQTtBQUM3QixDQUFDO0FBRUQsb0NBQW9DLFdBQXFCO0lBQ3ZELElBQU0sU0FBUyxHQUFlLEVBQUUsQ0FBQTtJQUNoQyxPQUFPLFdBQVcsRUFBRTtRQUNsQixTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzNCLFdBQVcsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0tBQ2pEO0lBQ0QsT0FBTyxTQUFTLENBQUE7QUFDbEIsQ0FBQztBQUVELHlDQUF5QyxXQUFxQjtJQUM1RCxJQUFNLFVBQVUsR0FBSSxXQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ2xELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDcEQsQ0FBQztBQUVELGdDQUFnQyxNQUFXLEVBQUUsVUFBaUM7SUFDNUUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJO1FBQ25DLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsRUFBRTtZQUNyQixJQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFBO1NBQ2hEO0lBQ0gsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsb0JBQW9CLElBQVk7SUFDOUIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDckQsQ0FBQyJ9","import { defineTargetProperties } from \"./target_properties\";\nvar Controller = /** @class */ (function () {\n    function Controller(context) {\n        this.context = context;\n    }\n    Controller.bless = function () {\n        defineTargetProperties(this);\n    };\n    Object.defineProperty(Controller.prototype, \"application\", {\n        get: function () {\n            return this.context.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"targets\", {\n        get: function () {\n            return this.scope.targets;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Controller.prototype.initialize = function () {\n        // Override in your subclass to set up initial controller state\n    };\n    Controller.prototype.connect = function () {\n        // Override in your subclass to respond when the controller is connected to the DOM\n    };\n    Controller.prototype.disconnect = function () {\n        // Override in your subclass to respond when the controller is disconnected from the DOM\n    };\n    Controller.targets = [];\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHFCQUFxQixDQUFBO0FBTzVEO0lBU0Usb0JBQVksT0FBZ0I7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7SUFDeEIsQ0FBQztJQU5NLGdCQUFLLEdBQVo7UUFDRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM5QixDQUFDO0lBTUQsc0JBQUksbUNBQVc7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksa0NBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFJO2FBQVI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO1FBQ3hCLENBQUM7OztPQUFBO0lBRUQsK0JBQVUsR0FBVjtRQUNFLCtEQUErRDtJQUNqRSxDQUFDO0lBRUQsNEJBQU8sR0FBUDtRQUNFLG1GQUFtRjtJQUNyRixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUNFLHdGQUF3RjtJQUMxRixDQUFDO0lBOUNNLGtCQUFPLEdBQWEsRUFBRSxDQUFBO0lBK0MvQixpQkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLFVBQVUifQ==","export * from \"@stimulus/core\"\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","module.exports = {};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","module.exports = false;\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","exports.f = {}.propertyIsEnumerable;\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","require('../../modules/es6.array.find');\nmodule.exports = require('../../modules/_core').Array.find;\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","require('../../modules/es6.array.find-index');\nmodule.exports = require('../../modules/_core').Array.findIndex;\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","exports.f = Object.getOwnPropertySymbols;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","// element-closest | CC0-1.0 | github.com/jonathantneal/closest\n\n(function (ElementProto) {\n\tif (typeof ElementProto.matches !== 'function') {\n\t\tElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector || function matches(selector) {\n\t\t\tvar element = this;\n\t\t\tvar elements = (element.document || element.ownerDocument).querySelectorAll(selector);\n\t\t\tvar index = 0;\n\n\t\t\twhile (elements[index] && elements[index] !== element) {\n\t\t\t\t++index;\n\t\t\t}\n\n\t\t\treturn Boolean(elements[index]);\n\t\t};\n\t}\n\n\tif (typeof ElementProto.closest !== 'function') {\n\t\tElementProto.closest = function closest(selector) {\n\t\t\tvar element = this;\n\n\t\t\twhile (element && element.nodeType === 1) {\n\t\t\t\tif (element.matches(selector)) {\n\t\t\t\t\treturn element;\n\t\t\t\t}\n\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t};\n\t}\n})(window.Element.prototype);\n","(function () {\n  'use strict';\n\n  mutationObserverHasBuggyRemovedNodes(function (result) {\n    if (result) patchInnerHTMLToRemoveChildNodes();\n  });\n\n  function mutationObserverHasBuggyRemovedNodes(callback) {\n    if (!window.MutationObserver) {\n      callback(false);\n      return;\n    }\n\n    var element = document.createElement(\"div\");\n    element.innerHTML = \"<div><div></div></div>\";\n\n    var observer = new MutationObserver(function (mutations) {\n      observer.disconnect();\n      var mutation = mutations[0];\n      if (mutation && mutation.type == \"childList\") {\n        var removedNode = mutation.removedNodes[0];\n        var isBuggy = removedNode.childNodes.length == 0;\n        callback(isBuggy);\n      }\n    });\n\n    observer.observe(element, { childList: true, subtree: true });\n    element.innerHTML = \"\";\n  }\n\n  function patchInnerHTMLToRemoveChildNodes() {\n    var _HTMLElement = HTMLElement,\n        prototype = _HTMLElement.prototype;\n\n    var descriptor = Object.getOwnPropertyDescriptor(prototype, \"innerHTML\");\n    if (!descriptor) return;\n    var _set = descriptor.set;\n\n    if (!_set) return;\n\n    Object.defineProperty(prototype, \"innerHTML\", {\n      set: function set(value) {\n        while (this.lastChild) {\n          this.removeChild(this.lastChild);\n        }\n        _set.call(this, value);\n      }\n    });\n  }\n\n}());\n","var map = {\n\t\"./common/loader_controller.js\": 114,\n\t\"./example1/prize_controller.js\": 112\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 111;","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n    static targets = [ \"out1\", \"out2\", \"out3\" ]\n\n  update(event) {\n    let source = event.currentTarget;\n    if (source && source.id === 'prize1' && this.hasOut1Target) {\n       this.out1Target.textContent = source.value;\n    }\n    if (source && source.id === 'prize2' && this.hasOut2Target) {\n       this.out2Target.textContent = source.value;\n    }\n    if (source && source.id === 'prize3' && this.hasOut3Target) {\n       this.out3Target.textContent = source.value;\n    }\n  }\n  \n}\n","import \"@stimulus/polyfills\"\nimport { Application } from \"stimulus\"\nimport { definitionsFromContext } from \"stimulus/webpack-helpers\"\n\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n","export function definitionsFromContext(context) {\n    return context.keys()\n        .map(function (key) { return definitionForModuleWithContextAndKey(context, key); })\n        .filter(function (value) { return value; });\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    var identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    var controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier: identifier, controllerConstructor: controllerConstructor };\n    }\n}\nexport function identifierForContextKey(key) {\n    var logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxNQUFNLGlDQUFpQyxPQUEwQztJQUMvRSxPQUFPLE9BQU8sQ0FBQyxJQUFJLEVBQUU7U0FDbEIsR0FBRyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsb0NBQW9DLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFsRCxDQUFrRCxDQUFDO1NBQzlELE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssRUFBTCxDQUFLLENBQWlCLENBQUE7QUFDM0MsQ0FBQztBQUVELDhDQUE4QyxPQUEwQyxFQUFFLEdBQVc7SUFDbkcsSUFBTSxVQUFVLEdBQUcsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0MsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLGdDQUFnQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQTtLQUNsRTtBQUNILENBQUM7QUFFRCwwQ0FBMEMsTUFBd0IsRUFBRSxVQUFrQjtJQUNwRixJQUFNLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUE7SUFDNUMsSUFBSSxPQUFPLHFCQUFxQixJQUFJLFVBQVUsRUFBRTtRQUM5QyxPQUFPLEVBQUUsVUFBVSxZQUFBLEVBQUUscUJBQXFCLHVCQUFBLEVBQUUsQ0FBQTtLQUM3QztBQUNILENBQUM7QUFFRCxNQUFNLGtDQUFrQyxHQUFXO0lBQ2pELElBQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyx3Q0FBd0MsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2xGLElBQUksV0FBVyxFQUFFO1FBQ2YsT0FBTyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFBO0tBQzNEO0FBQ0gsQ0FBQyJ9","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","import { Controller } from \"stimulus\"\nimport 'whatwg-fetch'\n\n// parameters: max, url1, url2, url3, url4, url5, method1, method2, method3, method4, method4, append1, append2, append3, append4, append5\n//      method1..5 defaults to POST\n//      max, maximum count, default to -1 (unlimited)  (to limit the number of appends)\n//      tokenName, name of the csrf token for POST's\n//      append1..5 boolean, defaults to replace. For example, if append1 is present, it will append otherwise replace content.\n// targets   : output1, output2, output3, output4, output5\nexport default class extends Controller {\n  static targets = [ \"output1\" , \"output2\", \"output3\", \"output4\", \"output5\" ]\n\n  // getFormState: return field values in target region.\n  // Inspired by code from Simon Steinberger & Stefan Gabos found at:\n  // Stackoverflow: https://stackoverflow.com/questions/11661187/form-serialize-javascript-no-framework\n  getFormState(target, result) {\n    // result.push('_csrfToken', encodeURIComponent(document.getElementsByName('_csrfToken')[0].value));\n    if (typeof target === 'object')\n        Array.prototype.slice.call(target.querySelectorAll('input[name]:not([disabled]),select[name]:not([disabled]),textarea[name]:not([disabled])')).forEach(function(control) {\n            if (['file', 'reset', 'submit', 'button'].indexOf(control.type) === -1)\n               if (control.type === 'select-multiple')\n                  Array.prototype.slice.call(control.options).forEach(function(option) {\n                    result.push(encodeURIComponent(control.name) + '=' + encodeURIComponent(option.value));\n                  });\n               else if (\n                    ['checkbox', 'radio'].indexOf(control.type) === -1\n                    || control.checked\n                ) \n                   result.push(encodeURIComponent(control.name) + '=' + encodeURIComponent(control.value));\n        });\n    return result.join('&');\n  }\n\n  // return fetch promise\n  loadContent(url, formData, method) {\n      if ('GET' == method.toUpperCase()) \n         return fetch(url + (url.indexOf('?') > 0 ? '&' : '?') + formData)\n      return fetch(url, {\n           credentials: 'include'\n         , method: method\n         , headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n              , 'X-CSRF-Token': encodeURIComponent(document.getElementsByName('_csrfToken')[0].value)\n         }\n         , body: formData.replace(/%20/g, '+')\n      })\n  }\n\n\n  handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.headers.get('X-HTTP-Error-Description') || response.statusText);\n    }\n    return response;\n  }\n\n  get count() {\n    return parseInt(this.data.get(\"count\")) || 1\n  }\n\n  set count(value) {\n    this.data.set(\"count\", value)\n  }\n\n\n  updateContent(target, varPostfix, formDataArray) {\n      if (!target || !this.data.get('url' + varPostfix)) {\n        return\n      }\n      let updateMethod;\n      if (this.data.has('append' + varPostfix)) {\n        updateMethod = (html) => target.insertAdjacentHTML( 'beforeend', html )\n      } else {\n        updateMethod = (html) => target.innerHTML = html\n      }\n      let formState = this.getFormState(target, formDataArray.slice(0))\n      this.loadContent(this.data.get('url' + varPostfix), formState, this.data.get('method' + varPostfix) || 'POST')\n      .then(this.handleErrors)\n      .then(response => response.text())\n      .then(updateMethod)\n      .catch(alert)\n  }\n\n  load(eventType, elem) {\n    let formDataArray =  [ 'event=' + eventType, 'count=' + this.count++ ]\n    if (elem && elem.id  ) formDataArray.push('elem=' + encodeURIComponent(elem.id))\n    if (elem && elem.name) formDataArray.push(encodeURIComponent(elem.name) + '=' + encodeURIComponent(elem.value))\n    if (this.hasOutput1Target) this.updateContent(this.output1Target, '1', formDataArray);\n    if (this.hasOutput2Target) this.updateContent(this.output2Target, '2', formDataArray);\n    if (this.hasOutput3Target) this.updateContent(this.output3Target, '3', formDataArray);\n    if (this.hasOutput4Target) this.updateContent(this.output4Target, '4', formDataArray);\n    if (this.hasOutput5Target) this.updateContent(this.output5Target, '5', formDataArray);\n  }\n\n  connect() {\n    super.connect()\n  }\n\n  update(event) {\n    event.preventDefault();\n    let max = this.data.get('max') || -1\n    if (max < 0 || this.count <= max) {\n      this.load(event.type, event.currentTarget)\n    } else if (max >= 0) {\n      event.currentTarget.disabled = true\n    }\n  }\n\n\n}\n"],"sourceRoot":""}